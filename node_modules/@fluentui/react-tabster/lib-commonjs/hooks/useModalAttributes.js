"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useModalAttributes = void 0;

const react_utilities_1 = /*#__PURE__*/require("@fluentui/react-utilities");

const useTabsterAttributes_1 = /*#__PURE__*/require("./useTabsterAttributes");

const tabster_1 = /*#__PURE__*/require("tabster");

const useTabster_1 = /*#__PURE__*/require("./useTabster");
/**
 * Applies modal dialog behaviour through DOM attributes
 * Modal element will focus trap and hide other content on the page
 * The trigger element will be focused if focus is lost after the modal element is removed
 *
 * @returns DOM attributes to apply to the modal element and its trigger
 */


const useModalAttributes = (options = {}) => {
  const {
    trapFocus,
    alwaysFocusable,
    legacyTrapFocus
  } = options;
  const tabster = useTabster_1.useTabster(); // Initializes the modalizer and deloser APIs

  if (tabster) {
    tabster_1.getModalizer(tabster);
    tabster_1.getDeloser(tabster);
  }

  const id = react_utilities_1.useId('modal-');
  const modalAttributes = useTabsterAttributes_1.useTabsterAttributes({
    deloser: {},
    modalizer: {
      id,
      isOthersAccessible: !trapFocus,
      isAlwaysAccessible: alwaysFocusable,
      isTrapped: legacyTrapFocus
    }
  });
  const triggerAttributes = useTabsterAttributes_1.useTabsterAttributes({
    deloser: {}
  });
  return {
    modalAttributes,
    triggerAttributes
  };
};

exports.useModalAttributes = useModalAttributes;
//# sourceMappingURL=useModalAttributes.js.map