"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useTabster = void 0;

const React = /*#__PURE__*/require("react");

const react_shared_contexts_1 = /*#__PURE__*/require("@fluentui/react-shared-contexts");

const tabster_1 = /*#__PURE__*/require("tabster");

const react_utilities_1 = /*#__PURE__*/require("@fluentui/react-utilities");
/**
 * Tries to get a tabster instance on the current window or creates a new one
 * Since Tabster is single instance only, feel free to call this hook to ensure Tabster exists if necessary
 *
 * @internal
 * @returns Tabster core instance
 */


const useTabster = () => {
  const {
    targetDocument
  } = react_shared_contexts_1.useFluent_unstable();
  const defaultView = (targetDocument === null || targetDocument === void 0 ? void 0 : targetDocument.defaultView) || undefined;
  const tabster = React.useMemo(() => {
    if (!defaultView) {
      return null;
    }

    return tabster_1.createTabster(defaultView, {
      autoRoot: {},
      controlTab: false
    });
  }, [defaultView]);
  react_utilities_1.useIsomorphicLayoutEffect(() => {
    return () => {
      if (tabster) {
        tabster_1.disposeTabster(tabster);
      }
    };
  }, [tabster]);
  return tabster;
};

exports.useTabster = useTabster;
//# sourceMappingURL=useTabster.js.map