{"version":3,"file":"useSplitButton.js","sourceRoot":"","sources":["../../../../../../../../../packages/react-components/react-button/src/components/SplitButton/useSplitButton.ts"],"names":[],"mappings":";;;;IAMA;;;;OAIG;IACI,IAAM,uBAAuB,GAAG,UACrC,KAAuB,EACvB,GAAqD;QAGnD,IAAA,KAWE,KAAK,WAXiB,EAAxB,UAAU,mBAAG,WAAW,KAAA,EACxB,QAAQ,GAUN,KAAK,SAVC,EACR,KASE,KAAK,SATS,EAAhB,QAAQ,mBAAG,KAAK,KAAA,EAChB,KAQE,KAAK,kBARkB,EAAzB,iBAAiB,mBAAG,KAAK,KAAA,EACzB,IAAI,GAOF,KAAK,KAPH,EACJ,KAME,KAAK,aANgB,EAAvB,YAAY,mBAAG,QAAQ,KAAA,EACvB,UAAU,GAKR,KAAK,WALG,EACV,QAAQ,GAIN,KAAK,SAJC,EACR,mBAAmB,GAGjB,KAAK,oBAHY,EACnB,KAEE,KAAK,MAFU,EAAjB,KAAK,mBAAG,SAAS,KAAA,EACjB,KACE,KAAK,KADQ,EAAf,IAAI,mBAAG,QAAQ,KAAA,CACP;QAEV,IAAM,MAAM,GAAG,uBAAK,CAAC,cAAc,CAAC,CAAC;QAErC,IAAM,mBAAmB,GAAG,kCAAgB,CAAC,UAAU,EAAE;YACvD,YAAY,EAAE;gBACZ,UAAU,YAAA;gBACV,QAAQ,UAAA;gBACR,iBAAiB,mBAAA;gBACjB,QAAQ,UAAA;gBACR,KAAK,OAAA;gBACL,IAAI,MAAA;aACL;YACD,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QAEH,IAAM,4BAA4B,GAAG,kCAAgB,CAAC,mBAAmB,EAAE;YACzE,YAAY,EAAE;gBACZ,UAAU,YAAA;gBACV,QAAQ,UAAA;gBACR,QAAQ,UAAA;gBACR,iBAAiB,mBAAA;gBACjB,IAAI,MAAA;gBACJ,YAAY,cAAA;gBACZ,EAAE,EAAE,MAAM,GAAG,uBAAuB;gBACpC,KAAK,OAAA;gBACL,IAAI,MAAA;aACL;YACD,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QAEH,oHAAoH;QACpH,eAAe;QACf,IACE,mBAAmB;YACnB,4BAA4B;YAC5B,CAAC,mBAAmB,CAAC,YAAY,CAAC;YAClC,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,EACvC;YACA,mBAAmB,CAAC,iBAAiB,CAAC,GAAG,4BAA4B,CAAC,EAAE,CAAC;SAC1E;QAED,OAAO;YACL,gCAAgC;YAChC,UAAU,YAAA;YACV,QAAQ,UAAA;YACR,iBAAiB,mBAAA;YACjB,YAAY,cAAA;YACZ,KAAK,OAAA;YACL,IAAI,MAAA;YAEJ,mBAAmB;YACnB,UAAU,EAAE;gBACV,IAAI,EAAE,KAAK;gBACX,UAAU,EAAE,uBAAU;gBACtB,mBAAmB,EAAE,eAAM;aAC5B;YAED,IAAI,EAAE,uCAAqB,CAAC,KAAK,qBAAI,GAAG,KAAA,IAAK,KAAK,EAAG;YACrD,UAAU,EAAE,mBAAmB;YAC/B,mBAAmB,EAAE,4BAA4B;SAClD,CAAC;IACJ,CAAC,CAAC;IA9EW,QAAA,uBAAuB,2BA8ElC","sourcesContent":["import * as React from 'react';\nimport { getNativeElementProps, resolveShorthand, useId } from '@fluentui/react-utilities';\nimport { Button } from '../Button/Button';\nimport { MenuButton } from '../MenuButton/MenuButton';\nimport type { SplitButtonProps, SplitButtonState } from './SplitButton.types';\n\n/**\n * Given user props, defines default props for the SplitButton and returns processed state.\n * @param props - User provided props to the SplitButton component.\n * @param ref - User provided ref to be passed to the SplitButton component.\n */\nexport const useSplitButton_unstable = (\n  props: SplitButtonProps,\n  ref: React.Ref<HTMLButtonElement | HTMLAnchorElement>,\n): SplitButtonState => {\n  const {\n    appearance = 'secondary',\n    children,\n    disabled = false,\n    disabledFocusable = false,\n    icon,\n    iconPosition = 'before',\n    menuButton,\n    menuIcon,\n    primaryActionButton,\n    shape = 'rounded',\n    size = 'medium',\n  } = props;\n\n  const baseId = useId('splitButton-');\n\n  const menuButtonShorthand = resolveShorthand(menuButton, {\n    defaultProps: {\n      appearance,\n      disabled,\n      disabledFocusable,\n      menuIcon,\n      shape,\n      size,\n    },\n    required: true,\n  });\n\n  const primaryActionButtonShorthand = resolveShorthand(primaryActionButton, {\n    defaultProps: {\n      appearance,\n      children,\n      disabled,\n      disabledFocusable,\n      icon,\n      iconPosition,\n      id: baseId + '__primaryActionButton',\n      shape,\n      size,\n    },\n    required: true,\n  });\n\n  // Resolve menu button's aria-labelledby to be labelled by the primary action button if not a label was not provided\n  // by the user.\n  if (\n    menuButtonShorthand &&\n    primaryActionButtonShorthand &&\n    !menuButtonShorthand['aria-label'] &&\n    !menuButtonShorthand['aria-labelledby']\n  ) {\n    menuButtonShorthand['aria-labelledby'] = primaryActionButtonShorthand.id;\n  }\n\n  return {\n    // Props passed at the top-level\n    appearance,\n    disabled,\n    disabledFocusable,\n    iconPosition,\n    shape,\n    size,\n\n    // Slots definition\n    components: {\n      root: 'div',\n      menuButton: MenuButton,\n      primaryActionButton: Button,\n    },\n\n    root: getNativeElementProps('div', { ref, ...props }),\n    menuButton: menuButtonShorthand,\n    primaryActionButton: primaryActionButtonShorthand,\n  };\n};\n"]}