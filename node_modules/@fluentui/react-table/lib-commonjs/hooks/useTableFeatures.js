"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useTableFeatures = exports.defaultTableState = void 0;

const useTableSelection_1 = /*#__PURE__*/require("./useTableSelection");

const useTableSort_1 = /*#__PURE__*/require("./useTableSort");

const defaultRowEnhancer = row => row;

exports.defaultTableState = {
  selection: useTableSelection_1.defaultTableSelectionState,
  sort: useTableSort_1.defaultTableSortState,
  getRows: () => [],
  getRowId: () => '',
  items: [],
  columns: []
};

function useTableFeatures(options, plugins = []) {
  const {
    items,
    getRowId,
    columns
  } = options;

  const getRows = (rowEnhancer = defaultRowEnhancer) => items.map((item, i) => {
    var _a;

    return rowEnhancer({
      item,
      rowId: (_a = getRowId === null || getRowId === void 0 ? void 0 : getRowId(item)) !== null && _a !== void 0 ? _a : i
    });
  });

  const initialState = {
    getRowId,
    items,
    columns,
    getRows,
    selection: useTableSelection_1.defaultTableSelectionState,
    sort: useTableSort_1.defaultTableSortState
  };
  return plugins.reduce((state, plugin) => plugin(state), initialState);
}

exports.useTableFeatures = useTableFeatures;
//# sourceMappingURL=useTableFeatures.js.map