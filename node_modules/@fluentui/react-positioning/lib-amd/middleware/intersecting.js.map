{"version":3,"file":"intersecting.js","sourceRoot":"","sources":["../../../../../../../../packages/react-components/react-positioning/src/middleware/intersecting.ts"],"names":[],"mappings":";;;;IAGA,SAAgB,YAAY;QAA5B,iBAmBC;QAlBC,OAAO;YACL,IAAI,EAAE,sBAAsB;YAC5B,EAAE,EAAE,UAAM,mBAAmB;;;;;4BACrB,YAAY,GAAG,mBAAmB,CAAC,KAAK,CAAC,QAAQ,CAAC;4BACpC,qBAAM,oBAAc,CAAC,mBAAmB,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,EAAA;;4BAA9E,WAAW,GAAG,SAAgE;4BAE9E,iBAAiB,GAAG,WAAW,CAAC,GAAG,GAAG,YAAY,CAAC,MAAM,IAAI,WAAW,CAAC,GAAG,GAAG,CAAC,CAAC;4BACjF,oBAAoB,GAAG,WAAW,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;4BAE1F,cAAc,GAAG,iBAAiB,IAAI,oBAAoB,CAAC;4BAEjE,sBAAO;oCACL,IAAI,EAAE;wCACJ,YAAY,EAAE,cAAc;qCAC7B;iCACF,EAAC;;;iBACH;SACF,CAAC;IACJ,CAAC;IAnBD,oCAmBC","sourcesContent":["import type { Middleware } from '@floating-ui/dom';\nimport { detectOverflow } from '@floating-ui/dom';\n\nexport function intersecting(): Middleware {\n  return {\n    name: 'intersectionObserver',\n    fn: async middlewareArguments => {\n      const floatingRect = middlewareArguments.rects.floating;\n      const altOverflow = await detectOverflow(middlewareArguments, { altBoundary: true });\n\n      const isIntersectingTop = altOverflow.top < floatingRect.height && altOverflow.top > 0;\n      const isIntersectingBottom = altOverflow.bottom < floatingRect.height && altOverflow.bottom > 0;\n\n      const isIntersecting = isIntersectingTop || isIntersectingBottom;\n\n      return {\n        data: {\n          intersecting: isIntersecting,\n        },\n      };\n    },\n  };\n}\n"]}