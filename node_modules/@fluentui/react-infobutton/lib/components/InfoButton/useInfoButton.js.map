{"version":3,"sources":["packages/react-components/react-infobutton/src/components/InfoButton/useInfoButton.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AACA,SAAS,uBAAT,EAAkC,uBAAlC,EAA2D,uBAA3D,QAA0F,0BAA1F;AACA,SAAS,qBAAT,EAAgC,cAAhC,EAAgD,gBAAhD,QAAwE,2BAAxE;AACA,SAAS,OAAT,EAAkB,cAAlB,QAAwC,yBAAxC;AACA,SAAS,oBAAT,QAAqC,2BAArC;AAGA,MAAM,iBAAiB,GAAG;EACxB,KAAK,eAAE,KAAA,CAAA,aAAA,CAAC,uBAAD,EAAwB,IAAxB,CADiB;EAExB,MAAM,eAAE,KAAA,CAAA,aAAA,CAAC,uBAAD,EAAwB,IAAxB,CAFgB;EAGxB,KAAK,eAAE,KAAA,CAAA,aAAA,CAAC,uBAAD,EAAwB,IAAxB;AAHiB,CAA1B;AAMA,MAAM,cAAc,GAAG;EACrB,KAAK,EAAE,OADc;EAErB,MAAM,EAAE,OAFa;EAGrB,KAAK,EAAE;AAHc,CAAvB;AAMA;;;;;;;;AAQG;;AACH,OAAO,MAAM,sBAAsB,GAAG,CAAC,KAAD,EAAyB,GAAzB,KAAyE;EAC7G,MAAM;IAAE,IAAI,GAAG;EAAT,IAAsB,KAA5B;EAEA,MAAM,KAAK,GAAoB;IAC7B,IAD6B;IAG7B,UAAU,EAAE;MACV,IAAI,EAAE,QADI;MAEV,OAAO,EAAE,OAFC;MAGV,OAAO,EAAE;IAHC,CAHiB;IAS7B,IAAI,EAAE,qBAAqB,CAAC,QAAD,EAAW;MACpC,QAAQ,EAAE,iBAAiB,CAAC,IAAD,CADS;MAEpC,IAAI,EAAE,QAF8B;MAGpC,GAAG,KAHiC;MAIpC;IAJoC,CAAX,CATE;IAe7B,OAAO,EAAE,gBAAgB,CAAC,KAAK,CAAC,OAAP,EAAgB;MACvC,QAAQ,EAAE,IAD6B;MAEvC,YAAY,EAAE;QACZ,QAAQ,eAAE,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,CADE;QAEZ,WAAW,EAAE,aAFD;QAGZ,IAAI,EAAE,cAAc,CAAC,IAAD,CAHR;QAIZ,SAAS,EAAE;MAJC;IAFyB,CAAhB,CAfI;IAwB7B,OAAO,EAAE,gBAAgB,CAAC,KAAK,CAAC,OAAP,EAAgB;MACvC,QAAQ,EAAE,IAD6B;MAEvC,YAAY,EAAE;QACZ,IAAI,EAAE;MADM;IAFyB,CAAhB;EAxBI,CAA/B;EAgCA,MAAM,CAAC,WAAD,EAAc,cAAd,IAAgC,oBAAoB,CAAC;IACzD,KAAK,EAAE,KAAK,CAAC,OAAN,CAAc,IADoC;IAEzD,YAAY,EAAE,KAAK,CAAC,OAAN,CAAc,WAF6B;IAGzD,YAAY,EAAE;EAH2C,CAAD,CAA1D;EAMA,KAAK,CAAC,OAAN,CAAc,IAAd,GAAqB,WAArB;EACA,KAAK,CAAC,OAAN,CAAc,YAAd,GAA6B,cAAc,CAAC,KAAK,CAAC,OAAN,CAAc,YAAf,EAA6B,CAAC,CAAD,EAAI,IAAJ,KAAa,cAAc,CAAC,IAAI,CAAC,IAAN,CAAxD,CAA3C;EAEA,OAAO,KAAP;AACD,CA7CM","sourcesContent":["import * as React from 'react';\nimport { DefaultInfoButtonIcon12, DefaultInfoButtonIcon16, DefaultInfoButtonIcon20 } from './DefaultInfoButtonIcons';\nimport { getNativeElementProps, mergeCallbacks, resolveShorthand } from '@fluentui/react-utilities';\nimport { Popover, PopoverSurface } from '@fluentui/react-popover';\nimport { useControllableState } from '@fluentui/react-utilities';\nimport type { InfoButtonProps, InfoButtonState } from './InfoButton.types';\n\nconst infoButtonIconMap = {\n  small: <DefaultInfoButtonIcon12 />,\n  medium: <DefaultInfoButtonIcon16 />,\n  large: <DefaultInfoButtonIcon20 />,\n} as const;\n\nconst popoverSizeMap = {\n  small: 'small',\n  medium: 'small',\n  large: 'medium',\n} as const;\n\n/**\n * Create the state required to render InfoButton.\n *\n * The returned state can be modified with hooks such as useInfoButtonStyles_unstable,\n * before being passed to renderInfoButton_unstable.\n *\n * @param props - props from this instance of InfoButton\n * @param ref - reference to root HTMLElement of InfoButton\n */\nexport const useInfoButton_unstable = (props: InfoButtonProps, ref: React.Ref<HTMLElement>): InfoButtonState => {\n  const { size = 'medium' } = props;\n\n  const state: InfoButtonState = {\n    size,\n\n    components: {\n      root: 'button',\n      popover: Popover,\n      content: PopoverSurface,\n    },\n\n    root: getNativeElementProps('button', {\n      children: infoButtonIconMap[size],\n      type: 'button',\n      ...props,\n      ref,\n    }),\n    popover: resolveShorthand(props.popover, {\n      required: true,\n      defaultProps: {\n        children: <></>,\n        positioning: 'above-start',\n        size: popoverSizeMap[size],\n        withArrow: true,\n      },\n    }),\n    content: resolveShorthand(props.content, {\n      required: true,\n      defaultProps: {\n        role: 'dialog',\n      },\n    }),\n  };\n\n  const [popoverOpen, setPopoverOpen] = useControllableState({\n    state: state.popover.open,\n    defaultState: state.popover.defaultOpen,\n    initialState: false,\n  });\n\n  state.popover.open = popoverOpen;\n  state.popover.onOpenChange = mergeCallbacks(state.popover.onOpenChange, (e, data) => setPopoverOpen(data.open));\n\n  return state;\n};\n"],"sourceRoot":"../src/"}