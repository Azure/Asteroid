import { defaultTableSelectionState } from './useTableSelection';
import { defaultTableSortState } from './useTableSort';

const defaultRowEnhancer = row => row;

export const defaultTableState = {
  selection: defaultTableSelectionState,
  sort: defaultTableSortState,
  getRows: () => [],
  getRowId: () => '',
  items: [],
  columns: []
};
export function useTableFeatures(options, plugins = []) {
  const {
    items,
    getRowId,
    columns
  } = options;

  const getRows = (rowEnhancer = defaultRowEnhancer) => items.map((item, i) => {
    var _a;

    return rowEnhancer({
      item,
      rowId: (_a = getRowId === null || getRowId === void 0 ? void 0 : getRowId(item)) !== null && _a !== void 0 ? _a : i
    });
  });

  const initialState = {
    getRowId,
    items,
    columns,
    getRows,
    selection: defaultTableSelectionState,
    sort: defaultTableSortState
  };
  return plugins.reduce((state, plugin) => plugin(state), initialState);
}
//# sourceMappingURL=useTableFeatures.js.map