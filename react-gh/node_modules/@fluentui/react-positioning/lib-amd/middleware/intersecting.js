define(["require", "exports", "tslib", "@floating-ui/dom"], function (require, exports, tslib_1, dom_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.intersecting = void 0;
    function intersecting() {
        var _this = this;
        return {
            name: 'intersectionObserver',
            fn: function (middlewareArguments) { return tslib_1.__awaiter(_this, void 0, void 0, function () {
                var floatingRect, altOverflow, isIntersectingTop, isIntersectingBottom, isIntersecting;
                return tslib_1.__generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            floatingRect = middlewareArguments.rects.floating;
                            return [4 /*yield*/, dom_1.detectOverflow(middlewareArguments, { altBoundary: true })];
                        case 1:
                            altOverflow = _a.sent();
                            isIntersectingTop = altOverflow.top < floatingRect.height && altOverflow.top > 0;
                            isIntersectingBottom = altOverflow.bottom < floatingRect.height && altOverflow.bottom > 0;
                            isIntersecting = isIntersectingTop || isIntersectingBottom;
                            return [2 /*return*/, {
                                    data: {
                                        intersecting: isIntersecting,
                                    },
                                }];
                    }
                });
            }); },
        };
    }
    exports.intersecting = intersecting;
});
//# sourceMappingURL=intersecting.js.map