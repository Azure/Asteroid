define(["require", "exports", "react", "./usePortalMountNode", "../../virtualParent/index"], function (require, exports, React, usePortalMountNode_1, index_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.usePortal_unstable = void 0;
    /**
     * Create the state required to render Portal.
     *
     * The returned state can be modified with hooks such as usePortalStyles, before being passed to renderPortal_unstable.
     *
     * @param props - props from this instance of Portal
     */
    var usePortal_unstable = function (props) {
        var children = props.children, mountNode = props.mountNode;
        var virtualParentRootRef = React.useRef(null);
        var fallbackMountNode = usePortalMountNode_1.usePortalMountNode({ disabled: !!mountNode });
        var state = {
            children: children,
            mountNode: mountNode !== null && mountNode !== void 0 ? mountNode : fallbackMountNode,
            virtualParentRootRef: virtualParentRootRef,
        };
        React.useEffect(function () {
            if (state.virtualParentRootRef.current && state.mountNode) {
                index_1.setVirtualParent(state.mountNode, state.virtualParentRootRef.current);
            }
        }, [state.virtualParentRootRef, state.mountNode]);
        return state;
    };
    exports.usePortal_unstable = usePortal_unstable;
});
//# sourceMappingURL=usePortal.js.map